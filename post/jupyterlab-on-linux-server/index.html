<!DOCTYPE html>
<html lang="en-us">
<head>

    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    
    
        <meta name="twitter:card" content="summary"/>
    



<meta name="twitter:title" content="Jupyterlab on Linux Server"/>
<meta name="twitter:description" content=""/>
<meta name="twitter:site" content="@DaWeiLin4"/>



  	<meta property="og:title" content="Jupyterlab on Linux Server &middot; DW Blog" />
  	<meta property="og:site_name" content="DW Blog" />
  	<meta property="og:url" content="https://dwgoblue.github.io/post/jupyterlab-on-linux-server/" />

    
        
            <meta property="og:image" content="/images/cover.jpg"/>
        
    

    
    <meta property="og:description" content="" />
  	<meta property="og:type" content="article" />
    <meta property="article:published_time" content="2020-11-26T16:29:38-05:00" />

    
    <meta property="article:tag" content="jupyter" />
    
    <meta property="article:tag" content="programming" />
    
    <meta property="article:tag" content="ubuntu" />
    
    

    <title>Jupyterlab on Linux Server &middot; DW Blog</title>

    
    <meta name="description" content="Jupyterlab on linux server  Overview Installation Virtual environment Issues Reference   Overview Jupyterlab is a lightweight but comprehensive and full-develop" />
    

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="https://dwgoblue.github.io/images/favicon.ico">
	  <link rel="apple-touch-icon" href="https://dwgoblue.github.io/images/apple-touch-icon.png" />

    <link rel="stylesheet" type="text/css" href="https://dwgoblue.github.io/css/screen.css" />
    <link rel="stylesheet" type="text/css" href="https://dwgoblue.github.io/css/nav.css" />

    

    

    
      
          <link href="https://dwgoblue.github.io/index.xml" rel="alternate" type="application/rss+xml" title="DW Blog" />
      
      
    
    <meta name="generator" content="Hugo 0.68.3" />

    <link rel="canonical" href="https://dwgoblue.github.io/post/jupyterlab-on-linux-server/" />

    
      
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name":  null ,
        "logo": "https://dwgoblue.github.io/images/signature.png"
    },
    "author": {
        "@type": "Person",
        "name":  null ,
        
        "image": {
            "@type": "ImageObject",
            "url": "https://dwgoblue.github.io/images/signature.png",
            "width": 250,
            "height": 250
        }, 
        
        "url":  null ,
        "sameAs": [
            
            
             
             
             
             
             
            
        ]
    },
    "headline": "Jupyterlab on Linux Server",
    "name": "Jupyterlab on Linux Server",
    "wordCount":  977 ,
    "timeRequired": "PT5M",
    "inLanguage": {
      "@type": "Language",
      "alternateName": "en"
    },
    "url": "https://dwgoblue.github.io/post/jupyterlab-on-linux-server/",
    "datePublished": "2020-11-26T16:29Z",
    "dateModified": "2020-11-26T16:29Z",
    
    "keywords": "jupyter, programming, ubuntu",
    "description": "",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://dwgoblue.github.io/post/jupyterlab-on-linux-server/"
    }
}
    </script>
    


    

    

    
</head>
<body class="nav-closed">

  <div class="nav">
    <h3 class="nav-title">Menu</h3>
    <a href="#" class="nav-close">
        <span class="hidden">Close</span>
    </a>
    <ul>
        
        
        
            
            <li class="nav-opened" role="presentation">
            	<a href="https://dwgoblue.github.io/">Home</a>
            </li>
        
            
            <li class="nav-opened" role="presentation">
            	<a href="https://dwgoblue.github.io/post">Blog</a>
            </li>
        
            
            <li class="nav-opened" role="presentation">
            	<a href="https://dwgoblue.github.io/about">About me</a>
            </li>
        
        
    </ul>

    
    <a class="subscribe-button icon-feed" href="https://dwgoblue.github.io/index.xml">Subscribe</a>
    
</div>
<span class="nav-cover"></span>


 <div class="site-wrapper">



<header class="main-header post-head no-cover">
  <nav class="main-nav clearfix">


  
      <a class="blog-logo" href="https://dwgoblue.github.io/"><img src="https://dwgoblue.github.io/images/signature.png" alt="Home" /></a>
  
  
      <a class="menu-button" href="#"><span class="burger">&#9776;</span><span class="word">Menu</span></a>
  
  </nav>
</header>



<main class="content" role="main">




  <article class="post post">

    <header class="post-header">
        <h1 class="post-title">Jupyterlab on Linux Server</h1>
        <small></small>

        <section class="post-meta">
        
          <time class="post-date" datetime="2020-11-26T16:29:38-05:00">
            Nov 26, 2020
          </time>
        
         
          <span class="post-tag small"><a href="https://dwgoblue.github.io//tags/jupyter/">#jupyter</a></span>
         
          <span class="post-tag small"><a href="https://dwgoblue.github.io//tags/programming/">#programming</a></span>
         
          <span class="post-tag small"><a href="https://dwgoblue.github.io//tags/ubuntu/">#ubuntu</a></span>
         
        </section>
    </header>

    <section class="post-content">
      <h1 id="jupyterlab-on-linux-server">Jupyterlab on linux server</h1>
<ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#anaconda-installation">Installation</a></li>
<li><a href="#virtual_environment">Virtual environment</a></li>
<li><a href="#issues">Issues</a></li>
<li><a href="#reference">Reference</a></li>
</ul>
<hr>
<h2 id="overview">Overview</h2>
<p>Jupyterlab is a lightweight but comprehensive and full-development IDE. In addition to write scripts with nice highlights syntax for Python and R as I know, the notebook is probably the most well-known feature with which users are able to write codes along with markdown-style notes. Besides, if you are a user who tends to install as less softwares/packages on your local machine as possible, running Jupyterlab on remote server may be suitable for you. In fact, you don&rsquo;t even install Python or Anaconda in your computer. Let&rsquo;s start to deploy essential tools for your working environment totally on remote machines!</p>
<hr>
<h2 id="anaconda-installation">Anaconda installation</h2>
<p>One of the easiest and quickest way to setup your working environment with Jupyterlab is to download Jupyterlab in your remote server.</p>
<pre><code>mkdir download # If necessary.
# The url could be different depending on the version of anaconda you want.
wget -P /home/download https://repo.anaconda.com/archive/Anaconda3-2019.10-Linux-x86_64.sh
bash /home/download/Anaconda3-2019.10-Linux-x86_64.sh
</code></pre><hr>
<h2 id="virtual-environment-optional">Virtual environment (Optional)</h2>
<p>For different projects, you may want to install different packages which could result in the changes for settings. To avoid unwanted troubles, virtual environment becomes useful for isolating development spaces.</p>
<p>Initiating a virtual environment is prettry easy. We could enter the command below in remote server terminal.</p>
<pre><code>conda create -n [ENVname] python=3.8 anaconda
</code></pre><p>After installation process, you can now activate your virtual environment by applying the name you used.</p>
<pre><code>conda activate [ENVname]
</code></pre><p>From now on, we are ready to install Jupyterlab and any other packages you need.</p>
<hr>
<h2 id="install-and-run-jupyterlab-on-remote-server">Install and run Jupyterlab on remote server</h2>
<p>With anaconda, package installation becomes very simple. To install Jupyterlab, we just need to use the command below.</p>
<pre><code>conda install Jupyterlab
</code></pre><p>Once Jupyterlab has been setup in your remote server, you can start to install SSH tools for remote connections.</p>
<h3 id="windows">Windows</h3>
<p>Although updates for Win10 provides SSH tool accompanying the OS, I will only share my method using an open-source SSH tool <a href="https://www.putty.org/">Putty</a> because there was no built-in SSH tool inside Windows when I firstly used Linux server. Specifically, we only need to give IP-address, port number, and select <code>SSH</code> in the checkbox of the connection type. Once we connect to our remote machine via Putty (entering your password if needed), we should be able to initialize Jupyterlab in the remote server.</p>
<pre><code>(server)$ jupyter notebook --no-browser --port=9000 
</code></pre><p>The suffix with <code>--port=9000</code> must match the port you use in your local machine. Usually, I activate a command terminal in my local Windows machine and enter</p>
<pre><code>(greatlakes) $ ssh -N -f -L localhost:8888:localhost:9000 -p 22 username@greatlakes.arc-ts.umich.edu 
</code></pre><p>Again, the port 8888 is like a hand from our local machine holding hand, the port 9000, extended from server.</p>
<h3 id="linux">Linux</h3>
<p>If you are running an Linux distribution OS, we just need to install SSH server which does not install by default.</p>
<pre><code>sudo apt update
sudo apt install openssh-server
</code></pre><p>Once the installation is completed, it is recommended that checking the SSH status by <code>sudo systemctl status ssh</code> should report <code>Active: active (running)</code> as an output.</p>
<p>Considering the firewall that could block connections, we could apply the command.</p>
<pre><code>sudo ufw allow ssh
</code></pre><p>Next, in my case, I need to connect my local machine to the greatlakes server belonging to UM. Therefore, only <code>username@ip_address</code> is required for SSH.</p>
<pre><code>ssh username@greatlakes.arc-ts.umich.edu
</code></pre><p>Please don&rsquo;t hack into my account anyway lol.</p>
<p>In case you have no idea about the ip address of your server, you can enter <code>ip a</code> for getting the required information.</p>
<p>After running the command above, we should see a message to let you enter your password and any other identity verification.</p>
<h3 id="initiate-jupyterlab-in-remote-server">Initiate Jupyterlab in remote server</h3>
<p>While we&rsquo;d like to run all the programs and Jupyterlab in remote server, we still want to use the IDE in our local machine. Because Jupyterlab is a browser-based IDE, we can type the command below to inhibit the activation in browser on server side.</p>
<pre><code>(ENV)$ jupyter-lab --no-browser --port=9000
</code></pre><p>After that, it should give messages ending with</p>
<pre><code>[I 22:19:00.654 LabApp] Serving notebooks from local directory: /home/username/anaconda3/envs
[I 22:19:00.654 LabApp] Jupyter Notebook 6.1.1 is running at:
[I 22:19:00.654 LabApp] http://localhost:9000/
[I 22:19:00.654 LabApp] Use Control-C to stop this server and shut down all kernels (twice to skip confirmation).

</code></pre><h3 id="a-bridge-for-connecting-to-remote-server">A bridge for connecting to remote server</h3>
<p>Because we are using port=9000 in remote server for running Jupyterlab, we have to create a local port as a bridge to catch the corresponding data. In practice, we can realize it by</p>
<pre><code>ssh -N -f -L localhost:8888:localhost:9000 -p 22 daweilin@greatlakes.arc-ts.umich.edu
</code></pre><p>Finally, we should be able to open Jupyterlab UI in our browser with an URL: <code>localhost:8888</code> after verification.</p>
<h3 id="one-line-command-to-running-jupyterlab-on-server-update">One-line command to running Jupyterlab on server (UPDATE)</h3>
<p>The previous way requires two terminals which sometimes somehow causes issues (listed below). A more convenient and stable way is to apply the command below</p>
<pre><code>sudo ssh -L 8888:127.0.0.1:9000 -p 22 username@greatlakes.arc-ts.umich.edu
</code></pre><p>You may want to replace the ip-address with your own. Besides, if you would like to see real-time logs, you may want to apply <code>-v</code> after <code>ssh</code> command.</p>
<hr>
<h2 id="issues">Issues</h2>
<h4 id="connetion-refused">Connetion refused</h4>
<p>After initializing Jupyterlab without browser on server side, I applied <code>ssh</code> to make a tunnel with port 8888 but it failed and released an error message:</p>
<pre><code>channel 2: open failed: connect failed: Connection refused
</code></pre><p>To solve the problem, I firstly use</p>
<pre><code>sudo lsof -i -P -n | grep LISTEN
</code></pre><p>in order to check all the occupied ports. Before you restart/initialize a new ssh process, you may want to kill processes and shut down tunnels.</p>
<pre><code>fuser -n tcp -k [PORT Number]
</code></pre><p>Finally, I made a new connection to server by ssh, but I didn&rsquo;t type the URL in my browser for <strong>few minutes</strong>. By doing so, I expected the connection required more time for setting up. The way works for me.</p>
<h2 id="reference">Reference</h2>
<ol>
<li><a href="https://linuxize.com/post/how-to-enable-ssh-on-ubuntu-18-04/">OpenSSH installation in Ubuntu.</a></li>
<li><a href="https://jupyter-notebook.readthedocs.io/en/stable/public_server.html">Running a notebook server</a></li>
<li><a href="https://jupyter-notebook.readthedocs.io/en/stable/config.html">Config file and command line options</a></li>
<li><a href="https://amber-md.github.io/pytraj/latest/tutorials/remote_jupyter_notebook">Use Jupyter notebook remotely</a></li>
<li><a href="https://www.blopig.com/blog/2018/03/running-jupyter-notebook-on-a-remote-server-via-ssh/">Working with Jupyter notebook on a remote server</a></li>
</ol>

    </section>


  <footer class="post-footer">


    








<figure class="author-image">
    <a class="img" href="https://dwgoblue.github.io/" style="background-image: url(/images/signature.png)"><span class="hidden">Da-Wei Lin's Picture</span></a>
</figure>


<section class="author">
  <h4><a href="https://dwgoblue.github.io/">Da-Wei Lin</a></h4>
  
  <p>Read <a href="https://dwgoblue.github.io/">more posts</a> by this author.</p>
  
  <div class="author-meta">
    <span class="author-location icon-location">Ann Arbor, MI, USA</span>
    
  </div>
</section>




    
<section class="share">
  <h4>Share this post</h4>
  <a class="icon-twitter" style="font-size: 1.4em" href="https://twitter.com/share?text=Jupyterlab%20on%20Linux%20Server&nbsp;-&nbsp;DW%20Blog&amp;url=https%3a%2f%2fdwgoblue.github.io%2fpost%2fjupyterlab-on-linux-server%2f"
      onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
      <span class="hidden">Twitter</span>
  </a>
  <a class="icon-facebook" style="font-size: 1.4em" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fdwgoblue.github.io%2fpost%2fjupyterlab-on-linux-server%2f"
      onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
      <span class="hidden">Facebook</span>
  </a>
  <a class="icon-pinterest" style="font-size: 1.4em" href="http://pinterest.com/pin/create/button/?url=https%3a%2f%2fdwgoblue.github.io%2fpost%2fjupyterlab-on-linux-server%2f&amp;description=Jupyterlab%20on%20Linux%20Server"
      onclick="window.open(this.href, 'pinterest-share','width=580,height=296');return false;">
      <span class="hidden">Pinterest</span>
  </a>
  <a class="icon-google-plus" style="font-size: 1.4em" href="https://plus.google.com/share?url=https%3a%2f%2fdwgoblue.github.io%2fpost%2fjupyterlab-on-linux-server%2f"
     onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
      <span class="hidden">Google+</span>
  </a>
</section>



    







  </footer>
</article>

</main>


  <aside class="read-next">
  
  
      <a class="read-next-story prev" style="no-cover" href="https://dwgoblue.github.io/post/oxygen-regulates-human-pluripotent-stem-cell-metabolic-flux/">
          <section class="post">
              <h2>Oxygen Regulates Human Pluripotent Stem Cell Metabolic Flux</h2>
          </section>
      </a>
  
</aside>



    <footer class="site-footer clearfix">
        <section class="copyright"><a href="">DW Blog</a> © All rights reserved - 2020</section>
        
        <section class="poweredby">Proudly generated by <a class="icon-hugo" href="http://gohugo.io">HUGO</a>, with <a class="icon-theme" href="https://github.com/vjeantet/hugo-theme-casper">Casper</a> theme</section>
        
    </footer>
    </div>
    <script type="text/javascript" src="https://dwgoblue.github.io/js/jquery.js"></script>
    <script type="text/javascript" src="https://dwgoblue.github.io/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="https://dwgoblue.github.io/js/index.js"></script>
    
</body>
</html>

